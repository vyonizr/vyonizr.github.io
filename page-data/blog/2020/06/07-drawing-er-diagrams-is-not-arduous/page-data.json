{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/2020/06/07-drawing-er-diagrams-is-not-arduous/","result":{"data":{"site":{"siteMetadata":{"title":"Into the Blue Hour"}},"markdownRemark":{"id":"9f3aa9f7-3a4b-588e-8369-3a47d7977f64","excerpt":"Have you ever been struggling to make entity relationship (ER) diagrams, when you put your time more on the cosmetics rather than developing it? We were on the…","html":"<figure>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.21621621621621%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAME/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB0WhUyA//xAAZEAEBAAMBAAAAAAAAAAAAAAABABESMUL/2gAIAQEAAQUCxedSGeLf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAFxABAQEBAAAAAAAAAAAAAAAAAQAhQf/aAAgBAQABPyEMhiW5Myqjf//aAAwDAQACAAMAAAAQsw//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAEBAAIDAAAAAAAAAAAAAAABABGBITFB/9oACAEBAAE/EOsBO4vJTKHUzqQerCC//9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Photo by Sophie Vinetlouis on Unsplash\"\n        title=\"Photo by Sophie Vinetlouis on Unsplash\"\n        src=\"/static/9f65f0cc9bd344ca4b930eba026d7e6e/1c72d/sophie-vinetlouis--r5D5VB13j4-unsplash.jpg\"\n        srcset=\"/static/9f65f0cc9bd344ca4b930eba026d7e6e/a80bd/sophie-vinetlouis--r5D5VB13j4-unsplash.jpg 148w,\n/static/9f65f0cc9bd344ca4b930eba026d7e6e/1c91a/sophie-vinetlouis--r5D5VB13j4-unsplash.jpg 295w,\n/static/9f65f0cc9bd344ca4b930eba026d7e6e/1c72d/sophie-vinetlouis--r5D5VB13j4-unsplash.jpg 590w,\n/static/9f65f0cc9bd344ca4b930eba026d7e6e/c08c5/sophie-vinetlouis--r5D5VB13j4-unsplash.jpg 640w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n  <figcaption>Photo by <a href=\"https://unsplash.com/@vinetlouispictures\" target=\"_blank\" rel=\"noopener noreferrer\">Sophie Vinetlouis</a> on <a href=\"https://unsplash.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Unsplash</a></figcaption>\n</figure>\n<p>Have you ever been struggling to make entity relationship (ER) diagrams, when you put your time more on the cosmetics rather than developing it? We were on the same page. Then one day, I found a tool that changed the game.</p>\n<h2>Introducing dbdiagram.io</h2>\n<p><a href=\"https://dbdiagram.io/home\" target=\"_blank\" rel=\"noopener noreferrer\">dbdiagram.io</a> allows us to create ER diagrams by code. Using database markup language (DBML)<sup id=\"fnref-1\"><a href=\"#fn-1\" class=\"footnote-ref\">1</a></sup>, we as developers can define our database effortlessly because it feels like home. Provided by example, we can quickly jump in and grasp the concept. When we declare a table, it automatically creates one. The same thing happens when we put on the entity-relationship references.</p>\n<figure>\n  <video autoplay loop muted playsinline>\n    <source src=\"/6e7a41c97b8b3741f02905d2673dc834/dbdiagram-demo.0791273.webm\" type=\"video/webm\">\n    <source src=\"/bf4a754bef5ead23839ab9595ea1ce63/dbdiagram-demo.0791273.mp4\" type=\"video/mp4\">\n  </video>\n  <figcaption>How dbdiagram.io works (source: <a href=\"https://dbdiagram.io/home\" target=\"_blank\" rel=\"noopener noreferrer\">dbdiagram.io</a>)</figcaption>\n</figure>\n<p>This tool comes with a free tier. It has already provided essential elements such as save, share, export to SQL, and import. There’s also “dark mode” for those who love the dimmed screen.</p>\n<h2>Demo time</h2>\n<figure>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.78378378378378%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAACWElEQVQoz2VT224SURTlX6zWKC1QKVRK20SKvSEYLWhaTBBT2qJGTL29YPAjNJEnMdCGxBc0JCZSi9oSE98MDxWbYH1qgyBluN+WZx8YMupK1uwzs89e+3LOyOr1OkqlEmMRxWKRrxuNRo/kJ9tqtdBut0EgS98qlQqPoxiKrVarkNHL2to9zM2ZYDROwem8wR11iRi9Hx3lkc3+QiaT4SSsr2/AarXB4XDCMGlEJBLpCNqvOaFQajkvXb7KspVQq9V4VkIqlYLJZIZOp4darcHU9CwEQcDTZ89xrE+OQYUGfcflCAY3OoILCw4uNjCogeWiDaVymVdWKAhdwe84Z5jFGfUo1MN6XDDPI5f7jWj0Ldw3PbjjuY/lldvYin+ErMyCHz7yYt5qh9lig+fuA94qURTc3f3GBGeg0Y6zarSYnrHg4PAQHbQhotlsQkaD9fv98PmedOnD3t4e3yCwlmmW+XweicRnxFkFsc0t7OwkWLICT1rrJhfJW160O3DqtBLygSFGFTZZEEE8OUIymcTqqhsulws22xV4vY/5nMWb0BOklq87V6AbNWB84jz0Y5PY3k78JxiLvceJfgWUqhH0n1RgacnduwWiJcooaNHuhGroLD8tCoh/+MRFqHoaiSg4rBmDdmSCC7uWb3XFRMFuhVTB6zdRvAgEEXgZ4nZ//ycXoZbITxc5nf6BUCiMcPgVAoEQ3rEEJNBqNtBsSCqkx79ot1t/tUFr8S+Rosl8uUINQontFWfIT6pbiUjpbKRr6Z5qtcYyN/AlJeBruoiDbBmZfBV/APmhEtK139EXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Book rent database ER diagram\"\n        title=\"Book rent database ER diagram\"\n        src=\"/static/6b9e0aa95b3c98fb6bee9ae74fa19b95/fcda8/book-rent-diagram.png\"\n        srcset=\"/static/6b9e0aa95b3c98fb6bee9ae74fa19b95/12f09/book-rent-diagram.png 148w,\n/static/6b9e0aa95b3c98fb6bee9ae74fa19b95/e4a3f/book-rent-diagram.png 295w,\n/static/6b9e0aa95b3c98fb6bee9ae74fa19b95/fcda8/book-rent-diagram.png 590w,\n/static/6b9e0aa95b3c98fb6bee9ae74fa19b95/efc66/book-rent-diagram.png 885w,\n/static/6b9e0aa95b3c98fb6bee9ae74fa19b95/e4374/book-rent-diagram.png 927w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n  <figcaption>My book rent ER diagram</figcaption>\n</figure>\n<p>The schema above was created by the following code:</p>\n<div class=\"gatsby-highlight\" data-language=\"dbml\"><pre class=\"language-dbml\"><code class=\"language-dbml\">enum role {\n  administrator\n  user\n}\n\nTable users {\n  id integer [pk]\n  email string\n  name string\n  role enum [default: &#39;user&#39;]\n  password string\n}\n\nTable books {\n  id integer [pk]\n  title string\n  quantity integer\n  created_by integer [ref: - users.id]\n}\n\nTable authors {\n  id integer [pk]\n  name string\n  description string\n  created_by integer [ref: - users.id]\n}\n\nTable books_authors {\n  id integer [pk]\n  book_id integer [ref: &gt; books.id]\n  author_id integer [ref: &gt; authors.id]\n}\n\nTable rents {\n  id integer [pk]\n  renter_id integer [ref: &gt; users.id]\n  book_id integer [ref: &gt; books.id]\n  due_date datetime\n  returned boolean\n}</code></pre></div>\n<h2>Exporting as PostgreSQL</h2>\n<p>After the code is written, on the menu bar click “Export” and then “Export PostgreSQL”. The SQL file will look like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TYPE</span> <span class=\"token string\">\"role\"</span> <span class=\"token keyword\">AS</span> <span class=\"token keyword\">ENUM</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token string\">'administrator'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'user'</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token string\">\"users\"</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token string\">\"id\"</span> <span class=\"token keyword\">integer</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"email\"</span> string<span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"name\"</span> string<span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"role\"</span> <span class=\"token keyword\">enum</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'user'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"password\"</span> string\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token string\">\"books\"</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token string\">\"id\"</span> <span class=\"token keyword\">integer</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"title\"</span> string<span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"quantity\"</span> <span class=\"token keyword\">integer</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"created_by\"</span> <span class=\"token keyword\">integer</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token string\">\"authors\"</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token string\">\"id\"</span> <span class=\"token keyword\">integer</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"name\"</span> string<span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"description\"</span> string<span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"created_by\"</span> <span class=\"token keyword\">integer</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token string\">\"books_authors\"</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token string\">\"id\"</span> <span class=\"token keyword\">integer</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"book_id\"</span> <span class=\"token keyword\">integer</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"author_id\"</span> <span class=\"token keyword\">integer</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token string\">\"rents\"</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token string\">\"id\"</span> <span class=\"token keyword\">integer</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"renter_id\"</span> <span class=\"token keyword\">integer</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"book_id\"</span> <span class=\"token keyword\">integer</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"due_date\"</span> <span class=\"token keyword\">datetime</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"returned\"</span> <span class=\"token keyword\">boolean</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> <span class=\"token string\">\"books\"</span> <span class=\"token keyword\">ADD</span> <span class=\"token keyword\">FOREIGN</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"created_by\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">REFERENCES</span> <span class=\"token string\">\"users\"</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> <span class=\"token string\">\"authors\"</span> <span class=\"token keyword\">ADD</span> <span class=\"token keyword\">FOREIGN</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"created_by\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">REFERENCES</span> <span class=\"token string\">\"users\"</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> <span class=\"token string\">\"books_authors\"</span> <span class=\"token keyword\">ADD</span> <span class=\"token keyword\">FOREIGN</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"book_id\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">REFERENCES</span> <span class=\"token string\">\"books\"</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> <span class=\"token string\">\"books_authors\"</span> <span class=\"token keyword\">ADD</span> <span class=\"token keyword\">FOREIGN</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"author_id\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">REFERENCES</span> <span class=\"token string\">\"authors\"</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> <span class=\"token string\">\"rents\"</span> <span class=\"token keyword\">ADD</span> <span class=\"token keyword\">FOREIGN</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"renter_id\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">REFERENCES</span> <span class=\"token string\">\"users\"</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> <span class=\"token string\">\"rents\"</span> <span class=\"token keyword\">ADD</span> <span class=\"token keyword\">FOREIGN</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"book_id\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">REFERENCES</span> <span class=\"token string\">\"books\"</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2>There is room for improvement</h2>\n<p>Despite its convenience, it does not come with no flaws. The relation lines are a bit awkward and become tangled when it comes to complex diagrams. We have to move the tables to the right place because the “Auto-arrange” feature does not work well at this moment. No “bridge” on line intersection makes it a bit tricky to trace. Though, there’s a workaround by hovering over a table to highlight its relations or enable the “Highlight” button. But overall, I would say this is a very useful tool, especially for back end developers!</p>\n<p><em>Originally published at <a href=\"https://www.linkedin.com/posts/fitrahtur-rahman_database-schema-sql-activity-6666215807799873536-jXMH\" target=\"_blank\" rel=\"noopener noreferrer\">LinkedIn</a> on May 13 2020</em></p>\n<div class=\"footnotes\">\n<hr>\n<ol>\n<li id=\"fn-1\">\n<p>DBML, <strong><em>DBML - Database Markup Language</em></strong> [website], <a href=\"https://www.dbml.org/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.dbml.org/</a>, (accessed June 7 2020)</p>\n<a href=\"#fnref-1\" class=\"footnote-backref\">↩</a>\n</li>\n</ol>\n</div>","frontmatter":{"title":"Drawing ER Diagrams Is (Not) Arduous","date":"June 7th, 2020","last_modified_at":"June 8th, 2020","categories":["Programming"],"description":"How a simple tool brought me a new perspective","link":null,"tags":["database"],"image":{"publicURL":"/static/9f65f0cc9bd344ca4b930eba026d7e6e/sophie-vinetlouis--r5D5VB13j4-unsplash.jpg"}},"timeToRead":3}},"pageContext":{"slug":"/blog/2020/06/07-drawing-er-diagrams-is-not-arduous/","previous":{"fields":{"slug":"/blog/2020/06/06-my-vscode-visual-setup/"},"frontmatter":{"title":"My VS Code Visual Setup"}},"next":{"fields":{"slug":"/blog/2020/06/13-render-huge-list-with-react-window/"},"frontmatter":{"title":"Render Huge List With react-window"}}}}}