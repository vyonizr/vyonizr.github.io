{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/2020/06/23-building-a-cat-facts-app-with-flask/","result":{"data":{"site":{"siteMetadata":{"title":"Into the Blue Hour"}},"markdownRemark":{"id":"14743415-63e4-5fa8-b17a-6f9b46619428","excerpt":"This post guides you through creating a web app with Flask, a micro web framework in Python. We may not hear it often among the rise of JAMstack, but big‚Ä¶","html":"<figure>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.05405405405405%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABeElEQVQoz41S2U7CQBTlj0000X/wQb/B8GIQkCAUZBEhgMKkAVrZylLAUgYKCF1pO+1YIAFNSvQ8TDLJPXOWOx7sBtu28T/gOYwCACCEsizPBMG5rmSVm0vD6apEVgv5vCSKSNcNTTNN8/D0lmxZlnN6vV6HT9N0OpWqVKrBcIx4ybe5+dnF5fXNrcRDxudjCYLx+3VR3Ns7Ki+Xy1AolMtl+8MxqDXKVINm2PYI3t0HE8moCjsSz2vzxXowQKZ5VD4AIaRqepMX2LkyXdvMeMHOxMkaIUvBmMPYcMl8KMm2twmSH6XzwNUDeIw8haNxIv5MVEC6kAkshcF2bJfRRXkrbtlNbhql06AToUCi38zBQZnrvfG94kZZ7FVOkh1AQZ5NFYyczicYfzltYOw0pLmv6icMHdXA52us2aEoMlsspUtkjqy89yhyoqnGLt1psr4xu61ZMdNlW6MGoOtlql3rtmieqcONZv527WZbVQxF0pFp/fnDvgG59mTHe6CeUAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Python web stack\"\n        title=\"Python web stack\"\n        src=\"/static/2e6986dcf2f6417ced1e228340123d1f/fcda8/python-web-stack.png\"\n        srcset=\"/static/2e6986dcf2f6417ced1e228340123d1f/12f09/python-web-stack.png 148w,\n/static/2e6986dcf2f6417ced1e228340123d1f/e4a3f/python-web-stack.png 295w,\n/static/2e6986dcf2f6417ced1e228340123d1f/fcda8/python-web-stack.png 590w,\n/static/2e6986dcf2f6417ced1e228340123d1f/ea7fb/python-web-stack.png 788w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n  <figcaption>Python web stack</figcaption>\n</figure>\n<p>This post guides you through creating a web app with Flask, a micro web framework in Python. We may not hear it often among the rise of JAMstack, but big companies like Netflix and LinkedIn use it for their business<sup id=\"fnref-1\"><a href=\"#fn-1\" class=\"footnote-ref\">1</a></sup>. It is modular, minimalist, and provides detailed documentation. It also covers both stacks: back-end and front-end with support from secure Jinja templating engine<sup id=\"fnref-2\"><a href=\"#fn-2\" class=\"footnote-ref\">2</a></sup>. So I wanted to give it a try by building a simple app to generate cat facts.</p>\n<h3>Prerequisites</h3>\n<p>Before we begin, make sure you have <a href=\"https://git-scm.com/\" target=\"_blank\" rel=\"noopener noreferrer\">git</a> and Python <code class=\"language-text\">3.5</code> or higher installed. Mine is <code class=\"language-text\">3.6.9</code> in this time of writing. Why? Because it conveniently comes with <code class=\"language-text\">pip</code> package installer and <code class=\"language-text\">venv</code> module to create virtual environments.</p>\n<h2>Installation</h2>\n<p>In Python, it comes in handy if you have an isolated environment for different projects. Every project uses different packages and if you install it globally, your <code class=\"language-text\">requirements.txt</code> aka your ‚Äúdependency list‚Äù will be bloated with unnecessary packages when shared with other collaborators.</p>\n<ol>\n<li><code class=\"language-text\">Flask</code> is the framework we are going to build our app upon</li>\n<li><code class=\"language-text\">flask-cors</code> to enable Cross-Origin Resource Sharing (CORS) in our app</li>\n<li><code class=\"language-text\">requests</code> to fetch external API</li>\n<li><code class=\"language-text\">gunicorn</code> to serve our web app on deployment</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> flask-cat-facts\n<span class=\"token builtin class-name\">cd</span> flask-cat-facts\n\n<span class=\"token comment\"># create a virtual environment called \"venv\"</span>\npython3 -m venv venv\n\n<span class=\"token comment\"># activate \"venv\"</span>\n<span class=\"token builtin class-name\">source</span> venv/bin/activate\n\n<span class=\"token comment\"># install packages with pip</span>\npip <span class=\"token function\">install</span> Flask flask-cors requests gunicorn\n\n<span class=\"token comment\"># save your dependencies on requirements.txt</span>\npip freeze <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> -v <span class=\"token string\">\"pkg-resources\"</span> <span class=\"token operator\">></span> requirements.txt</code></pre></div>\n<p>I did not include <code class=\"language-text\">pkg-resources</code> because it is a bug caused by incorrect metadata given by Ubuntu to <code class=\"language-text\">pip</code><sup id=\"fnref-3\"><a href=\"#fn-3\" class=\"footnote-ref\">3</a></sup> and it would break our build on deployment. If you are on other operating systems, use <code class=\"language-text\">pip freeze &gt; requirements.txt</code> instead. By the end of the guide, your project directory would look like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">/flask-cat-facts/\n‚îú‚îÄ‚îÄ flaskr/\n‚îÇ   ‚îú‚îÄ‚îÄ __init__.py\n‚îÇ   ‚îú‚îÄ‚îÄ static/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ images /\n‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ icons8-cat-50.png\n‚îÇ   ‚îî‚îÄ‚îÄ templates/\n‚îÇ       ‚îú‚îÄ‚îÄ 404.html\n‚îÇ       ‚îú‚îÄ‚îÄ index.html\n‚îÇ       ‚îî‚îÄ‚îÄ layout.html\n‚îú‚îÄ‚îÄ venv/\n‚îú‚îÄ‚îÄ .gitignore\n‚îú‚îÄ‚îÄ Procfile\n‚îî‚îÄ‚îÄ requirements.txt</code></pre></div>\n<p>Download the cat icon <a href=\"https://icons8.com/icon/tgLepcPbp6mP/cat\" target=\"_blank\" rel=\"noopener noreferrer\">here</a> and place it inside <code class=\"language-text\">images</code> folder. Next, Create a <code class=\"language-text\">.gitignore</code> file to exclude these files and directories:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># in our .gitignore\n\nvenv/\n\n*.pyc\n__pycache__/\n\ninstance/\n\n.pytest_cache/\n.coverage\nhtmlcov/\n\ndist/\nbuild/\n*.egg-info/</code></pre></div>\n<h2>Development</h2>\n<p>Create a file named <code class=\"language-text\">__init__.py</code> inside <code class=\"language-text\">flaskr</code> folder.</p>\n<h3>Setting up web server</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># /flask-cat-facts/flaskr/__init__.py</span>\n\n<span class=\"token keyword\">from</span> flask <span class=\"token keyword\">import</span> Flask\n<span class=\"token keyword\">from</span> flask <span class=\"token keyword\">import</span> render_template\n<span class=\"token keyword\">from</span> flask_cors <span class=\"token keyword\">import</span> CORS\n<span class=\"token keyword\">import</span> requests\n<span class=\"token keyword\">import</span> json\n\napp <span class=\"token operator\">=</span> Flask<span class=\"token punctuation\">(</span>__name__<span class=\"token punctuation\">)</span>\nCORS<span class=\"token punctuation\">(</span>app<span class=\"token punctuation\">)</span>\n\n<span class=\"token decorator annotation punctuation\">@app<span class=\"token punctuation\">.</span>route</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">return</span> render_template<span class=\"token punctuation\">(</span><span class=\"token string\">'index.html'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ol>\n<li><code class=\"language-text\">Flask(__name__)</code> creates an instance of Flask. <code class=\"language-text\">__name__</code> refers to the parent directory the file is in, which is <code class=\"language-text\">flaskr</code>.</li>\n<li>As previously mentioned, <code class=\"language-text\">flask</code> has templating engine called Jinja. This is useful for rendering HTML pages.</li>\n<li>Invoke <code class=\"language-text\">CORS(app)</code> to enable CORS</li>\n<li>Declare a route to the root and serve a page</li>\n</ol>\n<h3>Creating layout</h3>\n<p>We are going to create more than one page and they have some parts in common. Rather than repeating the code, we can create a layout. Jinja is able to inherit reusable HTML page inside <code class=\"language-text\">templates</code> folder on your project.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- /flask-cat-facts/templates/layout.html --></span>\n\n<span class=\"token doctype\">&lt;!DOCTYPE html></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">http-equiv</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Cache-Control<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>no-cache, no-store, must-revalidate<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">http-equiv</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Pragma<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>no-cache<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">http-equiv</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Expires<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1.0<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>description<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Random cat facts<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>icon<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>image/png<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>{{ url_for('static', filename='images/icons8-cat-50.png') }}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>{% block title %}{% endblock %}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n      {% block content %}{% endblock %}\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n\n  {% block script %}{% endblock %}\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<blockquote>\n<h4>In plain English</h4>\n<p>Hello, I am <code class=\"language-text\">layout.html</code>. I‚Äôve got a template for you HTMLs to work. You can fill in the <code class=\"language-text\">title</code>, <code class=\"language-text\">content</code>, and <code class=\"language-text\">script</code> section</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>icon<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>image/png<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>{{ url_for('static', filename='images/icons8-cat-50.png') }}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>As you can see, the syntax above is a bit strange. But don‚Äôt worry, because it is part of Jinja‚Äôs work. It creates a path called <code class=\"language-text\">static</code> and set the file path on <code class=\"language-text\">filename</code> relative to <code class=\"language-text\">flaskr/static</code><sup id=\"fnref-4\"><a href=\"#fn-4\" class=\"footnote-ref\">4</a></sup>. Importing CSS can be done in a similar fashion:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>{{ url_for('static', filename='styles/global.css') }}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Now create <code class=\"language-text\">index.html</code>. In order to use the layout, use <code class=\"language-text\">{% extends &#39;layout.html&#39; %}</code></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- /flask-cat-facts/templates/index.html CHILD TEMPLATE--></span>\n\n{% extends 'layout.html' %}\n{% block title %}Random Cat Facts{% endblock %}\n{% block content %}\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Hello world<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n{% endblock %}\n{% block script %}\n{% endblock %}</code></pre></div>\n<h3>Run server</h3>\n<p>To see what we have done so far, use this command:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># load our flask app</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">FLASK_APP</span><span class=\"token operator\">=</span>flaskr\n\n<span class=\"token comment\"># by default, flask is set to run in production environment</span>\n<span class=\"token comment\"># set our flask app to be in development</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">FLASK_ENV</span><span class=\"token operator\">=</span>development\n\n<span class=\"token comment\"># run app on port 5000 by default</span>\nflask run</code></pre></div>\n<figure>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 292px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABuElEQVQoz62QS0sCURiGz98osos1pWVOOqOlozbOeEmtNLMLRUIQRD/DH6FrN/4Al4KKGxdetq5dmzquRfDtnBNFFBVBBx7e7xvOeef9PhI/SSFxmoZP1aGGIvCrGvzBEAJaGKp+BCUQhMN18AVp3wvlUIOwtQ1h04pNqssrZpCHxydk7x8QOznDTTaLdOYC8dMUjlMZZC7vkEyfw+n2QD5QIFGYOmi/rwTomyQEyw7sohOiQ4ZpeQ3E7nRBlNxgahMlXjMDO71g3RVhtb1i2bG/Y6MGjO3dPc66YMEGhaUkV7d33ISN7PL4+F8z1zdY29iCpoXgpUk8ig/RWALxZApqUOOJZNkNs1nAwqIJS6bVdwgbT9Uj0CMxrswwkTyD168iSHs/3eEhNQ5HY9AiR9DDUXh9AY6b7lGi+5Q/QIzJBOOxAcOYgNXD4RDPFPaN1aPRiNZjrowh6w2Dw+5PPkGm0yn+85BcLodWq4VCoYB8Po/BYIBms4l6vY52u41arYZSqYRisYjZbIb5fP4jpFKpcAOm5XIZ/X4fvV4P3W4XjUYDnU6Hm1erVZ7g7eG3Cf8yzm9m7LwA4hQgayH0xIgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Flask server is successfully running\"\n        title=\"Flask server is successfully running\"\n        src=\"/static/ea561e3270907aa47e2445964f15c22a/2e9f9/flask_run.png\"\n        srcset=\"/static/ea561e3270907aa47e2445964f15c22a/12f09/flask_run.png 148w,\n/static/ea561e3270907aa47e2445964f15c22a/2e9f9/flask_run.png 292w\"\n        sizes=\"(max-width: 292px) 100vw, 292px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n  <figcaption>Our Flask server is successfully running</figcaption>\n</figure>\n<h3>Displaying cat facts</h3>\n<p>The next thing is how we display the cat facts. There‚Äôs an API by <a href=\"https://github.com/alexwohlbruck/cat-facts\" target=\"_blank\" rel=\"noopener noreferrer\">alexwohlbruck</a> to fetch from, so we don‚Äôt have to build it from scratch. Provide a new route in your server:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># in our __init__.py</span>\n\n<span class=\"token comment\"># your previous code here...</span>\n\n<span class=\"token decorator annotation punctuation\">@app<span class=\"token punctuation\">.</span>route</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/api/cats/'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">catFacts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  resp <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'https://cat-fact.herokuapp.com/facts/random?animal_type=cat&amp;amount=1'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> json<span class=\"token punctuation\">.</span>loads<span class=\"token punctuation\">(</span>resp<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Apply this to your <code class=\"language-text\">index.html</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- /flask-cat-facts/templates/index.html --></span>\n\n{% extends 'layout.html' %}\n{% block title %}Random Cat Facts{% endblock %}\n{% block content %}\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>{{ url_for('static', filename='images/icons8-cat-50.png') }}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>cat icon<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Random Cat Facts<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>cat-fact<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>next-button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>fetchCatFact()<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Next<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https://github.com/alexwohlbruck/cat-facts<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>no-decoration<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">target</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>_blank<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>noopener<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Cat facts API by alexwohlbruck<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">target</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>_blank<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https://icons8.com/icons/set/cat<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Cat icon<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span> icon by <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">target</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>_blank<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https://icons8.com<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Icons8<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n{% endblock %}\n\n{% block script %}\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">const</span> baseURL <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>href\n  <span class=\"token keyword\">const</span> catFactP <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"cat-fact\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> nextButton <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"next-button\"</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchCatFact</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n      catFactP<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">\"Loading...\"</span>\n      nextButton<span class=\"token punctuation\">.</span>disabled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n\n      <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>baseURL<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">api/cats/</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">const</span> json <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n      catFactP<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> json<span class=\"token punctuation\">.</span>text\n      nextButton<span class=\"token punctuation\">.</span>disabled <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">{</span>\n      catFactP<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">\"Ouch! Something went wrong. Please reload the page.\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">fetchCatFact</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n{% endblock %}</code></pre></div>\n<p>And now we can get facts data, one at a time! We use <code class=\"language-text\">async await</code> method and a bit of DOM manipulation to display the fact and toggle disable state on <code class=\"language-text\">Next</code> button.</p>\n<blockquote>\n<h4>In plain English</h4>\n<p><code class=\"language-text\">p</code>, please stand by while <code class=\"language-text\">fetch</code> is fetching the cat fact information. <code class=\"language-text\">fetch</code>, once you get it, pass to <code class=\"language-text\">p</code> to display. Tell <code class=\"language-text\">button</code> to make itself unclickable until <code class=\"language-text\">p</code> displays something other than <code class=\"language-text\">Loading...</code>. And <code class=\"language-text\">p</code>, if we fail, please display <em>‚ÄúOuch! Something went wrong. Please reload the page.‚Äù</em></p>\n</blockquote>\n<h3>Handle ‚Äúnot found‚Äù page</h3>\n<p>Try opening <code class=\"language-text\">http://localhost:5000/johndoe</code>. You‚Äôll get an error message like this:</p>\n<figure>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 12.837837837837837%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAYElEQVQI162NvQoAIQyDff/nE5ylg5P/Wt1ypNMtt13hI21IqAshwHsPEcEf41JKiDEi54x7L1QV5xyDN5XeF8zsvQ1mXe8dc06stVBrRSkFrTVjjGHKZ/TJeyfs0yPMPnBy54uNNzTTAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Unhandled 404 page\"\n        title=\"Unhandled 404 page\"\n        src=\"/static/c5ceaeef63f254f1ff05d73a2f1235a2/fcda8/unhandled-404.png\"\n        srcset=\"/static/c5ceaeef63f254f1ff05d73a2f1235a2/12f09/unhandled-404.png 148w,\n/static/c5ceaeef63f254f1ff05d73a2f1235a2/e4a3f/unhandled-404.png 295w,\n/static/c5ceaeef63f254f1ff05d73a2f1235a2/fcda8/unhandled-404.png 590w,\n/static/c5ceaeef63f254f1ff05d73a2f1235a2/a6d36/unhandled-404.png 650w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n  <figcaption>Unhandled 404 page</figcaption>\n</figure>\n<p>However, the information is a bit ‚Äútechnical‚Äù. We have to make it casual to the user.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># in our __init__.py</span>\n\n<span class=\"token comment\"># your previous code here...</span>\n\n<span class=\"token decorator annotation punctuation\">@app<span class=\"token punctuation\">.</span>errorhandler</span><span class=\"token punctuation\">(</span><span class=\"token number\">404</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">page_not_found</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">return</span> render_template<span class=\"token punctuation\">(</span><span class=\"token string\">'404.html'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">404</span></code></pre></div>\n<p>Create a new page named <code class=\"language-text\">404.html</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- /flask-cat-facts/templates/404.html --></span>\n\n{% extends 'layout.html' %}\n{% block title %}Page not found{% endblock %}\n{% block content %}\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Four oh four!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>There's nothing to see here üòø<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Return to home page<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n{% endblock %}</code></pre></div>\n<p>Now, try opening <code class=\"language-text\">http://localhost:5000/johndoe</code> again.</p>\n<figure>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 171px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.432432432432435%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABqUlEQVQoz61Sy2rCQBTNx/YXCvoBgiKuBBeuBBdaRayICBUsEdqg1heJxqpoTHxgjFpKBdFJTieTxhaKXbS9cOY+hjlzX9xut0O328XxeMQl0XWd6f1+D8Mwvt3P53NYlsVsrtPpwOv1otVqIZvNIh6PI5lMolwuYzweI5/Pw+PxoFarQRAE+Hw+lEolJBIJpFIp9obneZxOJ4dQFEWk02k0m03EYjEEg0EEAgH2gaIoiEajCIVCKBQKkCQJkUiEfRgOh+H3+xm5pmnnCjn8gxBy+izZPmyHEMJgmuZZu/Yln2kKV2wezq7dvvyLvL2s8LpzBsdttwYqlXs0Gk+0b03atwmmUwX1epUOospivV4P/b6MxWKOdrsFWZapbkN4fICirVC5vYZwcwW7aE7Xj3RtNIiijNFoitXKwGSiUpIRBoMJfShRdDCbLbFc6hgOx5R4AVVVGbGxNvCsKphNZSdDSSLI5Sw6LaBYBM3KogDNGLi7A4vzvBPLZEzm/7Cy4A4HC5sNOWO7NT9AvsRNrNeELrXJfEIsNgC797Z24Ni/Xht3TVzb9d8BI98uaDxlmOoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Handled 404 page\"\n        title=\"Handled 404 page\"\n        src=\"/static/d1f5a35e0dafbef7913773345f37f33b/1d8ec/handled-404.png\"\n        srcset=\"/static/d1f5a35e0dafbef7913773345f37f33b/12f09/handled-404.png 148w,\n/static/d1f5a35e0dafbef7913773345f37f33b/1d8ec/handled-404.png 171w\"\n        sizes=\"(max-width: 171px) 100vw, 171px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n  <figcaption>Handled 404 page</figcaption>\n</figure>\n<h2>Deploying the app with Heroku</h2>\n<p>We‚Äôre almost there to have our web app published. Unfortunately, Flask is not designed for production environment and cannot effectively handle multiple requests<sup id=\"fnref-5\"><a href=\"#fn-5\" class=\"footnote-ref\">5</a></sup>. <em>But</em>, previously, we have installed <a href=\"https://github.com/benoitc/gunicorn\" target=\"_blank\" rel=\"noopener noreferrer\">Green Unicorn</a> (<code class=\"language-text\">gunicorn</code>). This is the answer to what Flask lacks of. <code class=\"language-text\">gunicorn</code> is a Python WSGI HTTP Server that establishes communication between the web server and our Python app.</p>\n<p> Visit <a href=\"https://devcenter.heroku.com/articles/heroku-cli\" target=\"_blank\" rel=\"noopener noreferrer\">Heroku CLI page</a> if you haven‚Äôt installed Heroku CLI before. Then, create an <strong>extensionless</strong> file named <code class=\"language-text\">Procfile</code> in the root of our project and add this command to order Heroku what to execute on startup:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># in your Procfile\n\nweb: gunicorn flaskr:app</code></pre></div>\n<blockquote>\n<h4>In plain English</h4>\n<p><code class=\"language-text\">Procfile</code>, please run <code class=\"language-text\">web</code> process using <code class=\"language-text\">gunicorn</code> that points out to an <code class=\"language-text\">app</code> called <code class=\"language-text\">flaskr</code></p>\n</blockquote>\n<p>After that, we wrap all the files into a commit and deploy it:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># commit our work</span>\n<span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span>\n<span class=\"token function\">git</span> commit -m <span class=\"token string\">\"initial commit\"</span>\n\n<span class=\"token comment\"># login to Heroku</span>\nheroku login\n\n<span class=\"token comment\"># generate new Heroku app</span>\n<span class=\"token comment\"># by default, it automatically adds a git remote named ‚Äúheroku‚Äù</span>\n<span class=\"token comment\"># you would also get an URL to your app with this pattern:</span>\n<span class=\"token comment\"># https://&lt;your app name>.herokuapp.com/</span>\nheroku create\n\n<span class=\"token comment\"># push our work to master branch of \"heroku\" git remote</span>\n<span class=\"token function\">git</span> push heroku master</code></pre></div>\n<p>You can visit the link provided by <code class=\"language-text\">heroku create</code> command before (in this case <a href=\"https://stormy-oasis-16157.herokuapp.com/\" target=\"_blank\" rel=\"noopener noreferrer\">https://stormy-oasis-16157.herokuapp.com/</a>). If you don‚Äôt remember, you can visit your <a href=\"https://dashboard.heroku.com/apps\" target=\"_blank\" rel=\"noopener noreferrer\">Heroku dashboard</a>.</p>\n<figure>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 498px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.86486486486486%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACEElEQVQ4y61RaW9SQRR9f0W2x/bgwWMvttbE2ET6W0z0n/lBdihiSftFmpgKtUHK0lAWiaRleQvveGeUJk0U+8FJTs69d+6cOXdGkEJJxHafQ4k/QzC+h1BiH4HoLiQlAS9BppjldrcMq9MPi0OCRZTwxOGFzSXzul9JQvQocPlCEBI7CaQOUzh4dYiXhBcHKTzd26emMORQBMFwDNFEEh6vD06nBxarHTa7CJebBG0iLBY77A4nHKILIu0LSiwJbyACr6wgurMLm+iGR5IRCJJgQIHPrxCHSMhBIhKsNiecxK/fvEU4GifQFEoEbp/MNYRyuYhi/j3yBeJSmXOBoVi6R75QQDaXR47AmPVUPx7z/lL56HfPrzMCln206u/wv5awms8wGXzD2tCxXq+h64xNGIbB802N5bpOIDa2QLi9vePKpmlCVVUeLxYLLrRarbBcLu/3N7yJ/+iw+uEI6XQWmXQGuWwGlUoFn8/PcXJSQ/3TGWrHNapV0fjS5AfYRVtHZuPM53PuijlkMRuNuVM1DZqmcpeqqj1w+VfB2WyG8XiM4fAG3V4fo9EE3W6P8hHa7TZuBgNMv0/R6/Wg0wX/FByNBuj3O2yYR/3iNjEueNGc4vR0iMtLFc3mEldXGlotHRdfdarpmIzZReaDz9jqsNsx0WiADt+h07kmsR+onxnoXxv0ria9pfkoZ5v1E0bLWRsDCMjfAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Deployed heroku app\"\n        title=\"Deployed heroku app\"\n        src=\"/static/1c4085558400976671588e180ba12928/79e1b/deployed-heroku.png\"\n        srcset=\"/static/1c4085558400976671588e180ba12928/12f09/deployed-heroku.png 148w,\n/static/1c4085558400976671588e180ba12928/e4a3f/deployed-heroku.png 295w,\n/static/1c4085558400976671588e180ba12928/79e1b/deployed-heroku.png 498w\"\n        sizes=\"(max-width: 498px) 100vw, 498px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n  <figcaption>Your app is now live! ü•≥</figcaption>\n</figure>\n<p>Add some styling with CSS to make it fancy:</p>\n<figure>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 390px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 95.27027027027027%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAD10lEQVQ4y3VUS0+bRxT9dl2UTRc1fmNsHsZPINgO2BiM3+8XGAMuYEPBb0fQlJS4SQRNlSqoaasKSKUmVEmjJCpRJfqQ2qyo1GUXVf9G1+3u9M4YIkTJ4vibmXvOmXtn7lhQ2xK4EJcT6LQmoLLGUayXUaxVYPeFoB2JQmVL4nU6oZN+LoKGDCWmCPbuNYG/H+OP42e4s91Ely3C4+rX6IROyuA81LY4VJY4uocT+PPlXRy/PMQXD3/CX7/dh2EsBeVQjHMu0gqdlhj+B2uMBzuGwthqVnD86yF+//khvv5yE4rByIn4Ah1BUFnoTAhqltkpkaCxMcMoeqmMSm0FjbUSekcSLa4tfpJh7JXm1EdQDdGONBAbfBAbfZCaAxwSox/y/iBfe0vrQ1uXm8b+VzGRwQtZf4DHZcRjHsxLYAOpyY9k/ipCs3U4ogXYCf5sFbbgPDyTRZhdWSQW1uCdKsM9uYpwroHJpasYDi8iQuOR8ALfnBuqyfBtnRvNT/bx4OkR7h88x8GzIzz5/hfc23+MB98eIr20gdL7t7H7zQts393DXOk6dg++w1ePXmBn9xG2d/Yh1nt4lkLHYAgMEqOX2sRHOwU4JFQKW2snopjKUxJHwUo0tObMQDkQpOp8nKu6FOY+gnIgAI01itBcA76pEiaSyxz+6QqSi+vwZ0p8fZSOwREpwEfrzlgBrnQRLuI5Y0sI0vF0DAZp0yAEudlH3Z9C9foOytduY7F+A9PLG8iVN7Gx9RmmCu9h/danmCysI9+4xdezqx9w3mL9JhZrHyJXuQGdPQG52U8ZUhmqSyH0UhMn8mtYXd9GdLaGDB16Kr+O8EwZ6YUqileaWKrexHxlE7NkWL32MXE/QjJXh9oSgYag6OeGfjBI6Ww01gi0w/RC6Ah09hS66Zl1ObKQ2hegdOahcczyTLTUj332JId6KASZyQsFVcp8BDZQ9LcmcgrIjB7+Za3U0TeCN+aeQ7/3L3o+/wdvFn6EXDdKBtSvxJNybkvLwLxahmfAAh0MdIMKErcFtiAq/oD2lSO0he5Aph+jWIDQ4p3XCwqW7inMlJnBjfa+cYi04xhwT2MsPAe7NwPzaBzDvmkYqWQWE2nHINZNcM1ZD0FuYml7aOKBjMwGXBlqhxVMxAvwpFfphTSoLaiF5q/wG47MVBHMrMAVz8Pmn+EaxYkHgyA3utGCh3+7rWEYHCk4IwtI0y27UstIvFNDKFtCNFehG96gvnwXptEU9PY4NzzVMpwxbEGqd6Fd66TvBHrIvNsShpZuu4fduIX+sS9HOE/U64REN47z+v8AqLe0ncIVmBcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"catfacts.vyonizr.com\"\n        title=\"catfacts.vyonizr.com\"\n        src=\"/static/71dd927881c884c6b951b6614d3efac0/727ba/cat-facts-home.png\"\n        srcset=\"/static/71dd927881c884c6b951b6614d3efac0/12f09/cat-facts-home.png 148w,\n/static/71dd927881c884c6b951b6614d3efac0/e4a3f/cat-facts-home.png 295w,\n/static/71dd927881c884c6b951b6614d3efac0/727ba/cat-facts-home.png 390w\"\n        sizes=\"(max-width: 390px) 100vw, 390px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n  <figcaption><a href=\"https://vyonizr-cat-facts.herokuapp.com/\" target=\"_blank\" rel=\"noopener noreferrer\">vyonizr-cat-facts.herokuapp.com</a></figcaption>\n</figure>\n<p>And you‚Äôre done! üéâ The source code above can be found on <a href=\"https://github.com/vyonizr/flask-cat-facts\" target=\"_blank\" rel=\"noopener noreferrer\">my github repository</a>.</p>\n<p><em>This post is also available on <a href=\"https://link.medium.com/nouBS4d4A7\" target=\"_blank\" rel=\"noopener noreferrer\">Medium.com</a>. Any claps are appreciated!</em></p>\n<div class=\"footnotes\">\n<hr>\n<ol>\n<li id=\"fn-1\">\n<p>Github, <strong><em>List of companies using Flask framework</em></strong> [website], <a href=\"https://github.com/rochacbruno/flask-powered\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/rochacbruno/flask-powered</a>, (accessed June 14 2020)</p>\n<a href=\"#fnref-1\" class=\"footnote-backref\">‚Ü©</a>\n</li>\n<li id=\"fn-2\">\n<p>Jinja features automatic HTML escaping to prevent cross-site scripting (XSS) attacks; Wikipedia, <strong><em>Jinja (template engine)</em></strong> [website], <a href=\"https://en.wikipedia.org/wiki/Jinja_(template_engine)\" target=\"_blank\" rel=\"noopener noreferrer\">https://en.wikipedia.org/wiki/Jinja_(template_engine)</a>, (accessed June 14 2020)</p>\n<a href=\"#fnref-2\" class=\"footnote-backref\">‚Ü©</a>\n</li>\n<li id=\"fn-3\">\n<p>Stack Overflow, <strong><em>python - What is ‚Äúpkg-resources==0.0.0‚Äù in output of pip freeze command</em></strong> [website], <a href=\"https://stackoverflow.com/questions/39577984/what-is-pkg-resources-0-0-0-in-output-of-pip-freeze-command\" target=\"_blank\" rel=\"noopener noreferrer\">https://stackoverflow.com/questions/39577984/what-is-pkg-resources-0-0-0-in-output-of-pip-freeze-command</a> , (accessed June 14 2020)</p>\n<a href=\"#fnref-3\" class=\"footnote-backref\">‚Ü©</a>\n</li>\n<li id=\"fn-4\">\n<p>Flask Documentation (1.1.x), <strong><em>Static Files</em></strong> [website], <a href=\"https://flask.palletsprojects.com/en/1.1.x/tutorial/static\" target=\"_blank\" rel=\"noopener noreferrer\">https://flask.palletsprojects.com/en/1.1.x/tutorial/static</a>, (accessed June 20 2020)</p>\n<a href=\"#fnref-4\" class=\"footnote-backref\">‚Ü©</a>\n</li>\n<li id=\"fn-5\">\n<p>vsupalov.com, <strong><em>Flask Is Not Your Production Server</em></strong> [website], <a href=\"https://vsupalov.com/flask-web-server-in-production/\" target=\"_blank\" rel=\"noopener noreferrer\">https://vsupalov.com/flask-web-server-in-production/</a>, (accessed June 21 2020)</p>\n<a href=\"#fnref-5\" class=\"footnote-backref\">‚Ü©</a>\n</li>\n</ol>\n</div>","frontmatter":{"title":"Building a Cat Facts App With Flask","date":"June 23rd, 2020","last_modified_at":"June 24th, 2020","categories":["Programming"],"description":"And deploy it to Heroku","link":"https://github.com/vyonizr/flask-cat-facts","tags":["python","flask","heroku"],"image":{"publicURL":"/static/2e6986dcf2f6417ced1e228340123d1f/python-web-stack.png"}},"timeToRead":9}},"pageContext":{"slug":"/blog/2020/06/23-building-a-cat-facts-app-with-flask/","previous":{"fields":{"slug":"/blog/2020/06/13-render-huge-list-with-react-window/"},"frontmatter":{"title":"Render Huge List With react-window"}},"next":{"fields":{"slug":"/blog/2020/07/19-hyper-scape-my-impression/"},"frontmatter":{"title":"Hyper Scape: My Impression"}}}}}